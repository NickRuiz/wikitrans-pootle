<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:py="http://purl.org/kid/ns#" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Pootle Navigation Bar</title>
  <!--[if lt IE 7.]>
    <script defer type="text/javascript" src="/js/correctpng.js"></script>
  <![endif]-->
</head>
<body>
  <div id="item" class="contentsitem">
    <img src="/images/${item.icon}.png" class="icon" alt="" dir="$uidir" lang="$uilanguage" />
    <h3 id="itemtitle" class="title"><a href="${item.href}">${item.title}</a></h3>
    <div id="actionlinks" class="item-description" py:if="item.actions">
      <span py:for="link in item.actions.basic" py:strip="True">
        <a href="${link.href}" title="${link.title}">${link.text}</a>
        ${link.sep}
      </span>
      <form py:if="item.actions.goalform" action="" name="${item.actions.goalform.name}" method="post">
        <input type="hidden" name="editgoalfile" value="${item.actions.goalform.filename}"/>
        <select name="editgoal" py:attrs="multiple=item.actions.goalform.multifiles">
          <option value=""/>
          <option py:for="goalname in item.actions.goalform.goalnames" value="${goalname}" py:content="goalname" selected="${item.actions.goalform.filegoals[goalname]}">Goal</option>
        </select>
        <input py:if="item.actions.goalform.multifiles" type="hidden" name="allowmultikey" value="editgoal"/>
        <input type="submit" name="doeditgoal" value="${item.actions.goalform.setgoal_text}"/>
        <span py:if="item.actions.goalform.users" py:strip="True">
          <select name="editfileuser" py:attrs="multiple=item.actions.goalform.multiusers">
            <option value=""/>
            <option py:for="user in item.actions.goalform.users" value="${user}" py:content="user" selected="${item.actions.goalform.assignusers[user]}">Username</option>
          </select>
          <a py:if="not item.actions.goalform.multiusers" href="#" onclick="var userselect = document.forms.${item.actions.goalform.name}.editfileuser; userselect.multiple = true; return false" py:content="item.actions.goalform.selectmultiple_text">Select Multiple</a>
          <input type="hidden" name="allowmultikey" value="editfileuser"/>
          <select name="edituserwhich">
            <option py:for="a in item.actions.goalform.assignwhich" value="${a.value}">${a.text}</option>
          </select>
          <input type="submit" name="doedituser" value="${item.actions.goalform.assignto_text}"/>
        </span>
      </form>
      <span py:for="link in item.actions.extended" py:strip="True">
        <a href="${link.href}" title="${link.title}">${link.text}</a>
        ${link.sep}
      </span>
    </div>
  </div>
  <div id="itemstats" class="item-statistics">
    <span py:replace="XML(item.stats.summary)">
      2/2 words (100%) translated <span class="string-statistics">[2/2 strings]</span>
    </span>
    <span py:for="check in item.stats.checks" py:strip="True">
      <br />
      <a href="${check.href}" py:content="check.text">checkname</a>
      <span py:content="check.stats" py:strip="True">3 strings (20%) failed</span>
    </span>
    <span py:for="track in item.stats.tracks" py:strip="True"><br />${track}</span>
    <span py:for="astats in item.stats.assigns" py:strip="True">
    <br /><a href="${astats.assign.href}">${astats.assign.text}</a>: ${astats.stats}
      <span class='string-statistics'>${astats.stringstats}</span> -
      ${astats.completestats} <span class='string-statistics'>${astats.completestringstats}</span>
      <a py:if="astats.remove" href="${astats.remove.href}">${astats.remove.text}</a>
    </span>
  </div>
  <div id="itemdata" class="item-statistics" py:strip="True">
    <td class="stats-name">
      <img src="/images/${item.icon}.png" class="icon" alt="" dir="$uidir" lang="$uilanguage" />
      <a href="${item.href}" lang="en" dir="ltr">${item.title}</a>
    </td>
    <span py:if="item.data" py:strip="True">
      <td class="stats">${item.data.translatedwords}</td><td class="stats">${item.data.translatedpercentage}%</td>
      <td class="stats">${item.data.fuzzywords}</td><td class="stats">${item.data.fuzzypercentage}%</td>
      <td class="stats">${item.data.untranslatedwords}</td><td class="stats">${item.data.untranslatedpercentage}%</td>
      <td class="stats">${item.data.totalwords}</td>
      <td class="stats-graph">
        <span class="sortkey">${item.data.translatedpercentage}</span>
        <table border="0" cellpadding="0" cellspacing="0"><tr>
<!--!        <td bgcolor="green"><img src="/images/green.png" class="data" bgcolor="green" height="20" width="${item.data.translatedpercentage}" /></td>-->
<!--!        <td bgcolor="grey"><img src="/images/grey.png" class="data" height="20" width="${item.data.fuzzypercentage}" /></td>-->
<!--!        <td bgcolor="red"><img src="/images/red.png" class="data" height="20" width="${item.data.untranslatedpercentage}" /></td>-->
            <td bgcolor="green" class="data" height="20" width="${item.data.translatedpercentage}" />
            <td bgcolor="lightgray" class="data" height="20" width="${item.data.fuzzypercentage}" py:if="item.data.fuzzypercentage"/>
            <td bgcolor="red" class="data" height="20" width="${item.data.untranslatedpercentage}" py:if="item.data.untranslatedpercentage"/>
        </tr></table>
          
        <!--! The following is simpler, but kid reformats the img tags which inserts spaces between them -->

<!--!        <img src="/images/green.png" class="data" height="20" width="${item.data.translatedpercentage}" background="green" /><img src="/images/grey.png" class="data" height="20" width="${item.data.fuzzypercentage}" background="grey" /><img src="/images/red.png" class="data" height="20" width="${item.data.untranslatedpercentage}" background="red" />-->
      </td>      
    </span>
  </div>
</body>
</html>

