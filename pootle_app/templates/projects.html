<?xml version="1.0" encoding="UTF-8"?>
<?python
from pootle_app.templates import pootlepage
from Pootle.util import l
?>
<include py:layout="'page_layout.kid'" xmlns:py="http://purl.org/kid/ns#">

  <div id="content" py:def="content_block()">
    <div class="module first">
      <div class="hd">
	<h2 py:content="projectlink">Projects</h2>
      </div>
      <div class="bd">
	<table class="sortable">
	  <tr><th>Project</th><th>Overall Completion</th><th>Last Activity</th></tr>
	  <tr py:for="zebra, p in enumerate(projects)" class="${zebra%2 and 'odd' or 'even'}">
	    <td class="language"><a href="${l('/projects/'+p.code+'/')}" title="${p.description}" py:content="p.name">Project</a></td>
	    <td>
	      <span class="graph" dir="$uidir">
		<span class="translated" style="width: ${p.transper}px" title="${p.trans}/${p.total} words translated" />
		<span class="fuzzy" style="${cssaligndir}: ${p.transper}px; width: ${p.fuzzyper}px" title="${p.fuzzy}/${p.total} words fuzzy" />
		<span class="untranslated" style="${cssaligndir}: ${p.transper+p.fuzzyper}px; width: ${p.untransper}px" title="${p.untrans}/${p.total} words untranslated" />
	      </span>
	      <span class="sortkey">${p.transper}%</span>
	    </td> 
	    <td>${p.lastactivity}</td>
	  </tr>
	</table>
      </div>
    </div>
  </div><!--content-->

  <div id="postcontent">
    <div class="module first clear">
      <div class="bd">
	<div py:replace="pootlepage.translationsummarylegend(translationlegend, mediaurl)" />
      </div>
    </div>
  </div><!--postcontent-->

</include>

